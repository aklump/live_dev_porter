<!DOCTYPE html>

<html>
<head>
  <title>Databases</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--databases">
<header>
  <div class="pager"><a href="local_build_files.html" class="prev local_build_files">&laquo;Creating Scaffold Files from the Local Environment</a><a href="index.html" class="index pager__book-title">Live Dev Porter: Documentation</a><a href="processor_development.html" class="next processor_development">Developing New Processors&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>

<section>
  <h1>Databases</h1>
  

<p>If a project uses at least one database, it must be defined in configuration. You must give it an ID. Using that ID, it can be referenced in other parts of the configuration. You may define multiple databases if that applies to your situation.</p>

<p>You must also define which plugin is used to access your database, along with the plugin-specifiy configuation. Example plugins are: <em>mysql</em>, <em>env</em>, <em>lando</em>, <em>lando_git</em>.</p>

<p>If you have more than one database defined, the first listed in the configuration will be assumed unless you specify otherwise with <code>--database=ID</code>. In the following configuration example, <code>primary</code> will be assumed the default database.</p>

<pre><code class="yaml">environments:
  -
    id: local
    databases:
      primary:
        plugin: lando
        service: database
      secondary:
        plugin: lando
        service: alt_database
</code></pre>

<h2>Excluding Tables or Data for Different Commands</h2>

<p>You can omit entire tables using <code>exclude_tables</code>.</p>

<p>You may want to omit data from certain tables, such as in the case of cache tables. This is the reason for <code>exclude_table_data</code>. List one or more tables (astrix globbing allowed), whose <em>structure only</em> should be copied.</p>

<p>Create one or more workflows with your table/data exclusion rules. Then use those workflows as command arguments.</p>

<pre><code class="yaml">workflows:
  development:
    -
      database: drupal
      exclude_table_data:
        - cache*
        - batch
</code></pre>

<p>To export only table structure and no data from any table, do like this:</p>

<pre><code class="yaml">workflows:
  development:
    -
      database: drupal
      exclude_table_data:
        - "*"
</code></pre>

<p>If you wish to omit entire tables--data AND structure--you will list those tables in <code>exclude_tables</code>.</p>

<pre><code class="yaml">workflows:
  development:
    -
      database: drupal
      exclude_tables:
        - foo
        - bar
</code></pre>

</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="local_build_files.html" class="prev local_build_files">&laquo;Creating Scaffold Files from the Local Environment</a><a href="index.html" class="index pager__book-title">Live Dev Porter: Documentation</a><a href="processor_development.html" class="next processor_development">Developing New Processors&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.0.119 &bull; Last Updated: Thu, 01 Jun 2023 20:46:03 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>
