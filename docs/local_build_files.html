<!DOCTYPE html>

<html>
<head>
  <title>Creating Scaffold Files from the Local Environment</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--local_build_files">
<header>
  <div class="pager"><a href="CHANGELOG.html" class="prev CHANGELOG">&laquo;Changelog</a><a href="index.html" class="index pager__book-title">Live Dev Porter: Documentation</a><a href="databases.html" class="next databases">Databases&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>

<section>
  <h1>Creating Scaffold Files from the Local Environment</h1>
  

<blockquote>
  <p>You want to copy un-versioned local files, e.g. <em>.htaccess, settings.local.php, .env</em> to a source-controlled folder called <em>install/</em>, at the same time removing any secrets. You do this so that these files can be source-controlled and used in installation processes. These are sometimes called scaffold files.</p>
</blockquote>

<p>This is how you do that.</p>

<ol>
<li>Configure a second, local environment, e.g. <code>local</code>.</li>
<li>Set <code>write_access</code> to <code>false</code>.</li>
<li>Setup <code>files</code> as you would a normal remote, that is, with paths to the original files.</li>
<li>Do not define <code>databases</code> because this will ensure only files are pulled, even without using <code>pull -f</code>.</li>
<li>Now run <code>ldp pull local</code> to copy the files; notice how you specify the "remote" in the CLI argument.</li>
</ol>

<p><em>.live_dev_porter/config.yml</em></p>

<pre><code class="yaml">environments:
  dev:
    label: ITLS
    write_access: true
    plugin: default
    base_path: /alpha/bravo/app
    command_workflows:
      pull: develop
    databases:
      drupal:
        plugin: lando
        service: database
    files:
      install: install
      public: web/sites/default/files
      private: private/default/files
  local:
    label: ITLS
    write_access: false
    plugin: default
    base_path: /alpha/bravo/app
    files:
      install: ./
</code></pre>

</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="CHANGELOG.html" class="prev CHANGELOG">&laquo;Changelog</a><a href="index.html" class="index pager__book-title">Live Dev Porter: Documentation</a><a href="databases.html" class="next databases">Databases&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.0.106 &bull; Last Updated: Fri, 09 Dec 2022 08:05:33 -0800</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>
